Here is the technical, condensed, founder-to-agent spec for Replit.
This is exactly what your app does, is, and must do next ‚Äî no fluff, just architecture-level truth.

Paste this directly into Replit as your system prompt / task brief.

‚∏ª

üöÄ parcOS ‚Äî Technical DPS (Defining Product Specification)

Condensed, engineering-grade description of system behavior + required functionality

‚∏ª

1. OS-Level Architecture

parcOS is a web-native operating system layer composed of:
	‚Ä¢	Canvas Engine ‚Üí Absolute-positioned, draggable glass cards
	‚Ä¢	Zustand Store ‚Üí Global state for cards, stacks, workspaces, BILL commands
	‚Ä¢	OOP Card Model ‚Üí Each module (Sports, NIL, Creator, etc.) spawns sets of cards
	‚Ä¢	VisionOS-like UI Layer ‚Üí Glassmorphism, z-index hierarchy, responsive scaling
	‚Ä¢	Dock ‚Üí App-launcher for workspace spawning
	‚Ä¢	SystemBar ‚Üí Displays active workspace, global BILL actions

Everything is modular, stack-driven, and deterministic.

‚∏ª

2. Core Systems

2.1 Card Engine

Each card has:

id, type, stackId, position(x,y,z), size, minimized, data

Behaviors:
	‚Ä¢	drag ‚Üí continuous position updates
	‚Ä¢	click ‚Üí focus (max z-index, scale 1.04, glow shadow)
	‚Ä¢	minimize ‚Üí moves to dock
	‚Ä¢	restore ‚Üí exact previous position
	‚Ä¢	visibility ‚Üí filtered by activeStack

2.2 Workspace Engine

Workspaces = isolated environments (NIL, SPORTS, CREATOR, etc.)

Functions required:

setActiveWorkspace(name, stackId)
spawnDefaultCardsForWorkspace()
getVisibleCards()

Switching workspaces hides all unrelated stacks.

‚∏ª

3. Data Services

3.1 ESPN Data Layer

Service must fetch and parse:
	‚Ä¢	Live event feed
	‚Ä¢	Game metadata
	‚Ä¢	Scoring plays
	‚Ä¢	Team info
	‚Ä¢	Status (LIVE / FINAL / SCHEDULED)

Game events normalized into GameEvent objects:

id, text, team, clock, quarter, score, raw

Fallback ‚Üí mock data simulator.

‚∏ª

4. BILL AI Engine

BILL exposes deterministic commands to mutate OS state.

Required commands:

analyzeGame()
createMomentumCard()
createPredictionCard()
generateNarrativeCard()
createHighlightCard()    // next module
rearrangeWorkspace()
getWorkspaceInsights()

BILL never directly touches UI ‚Äî only state.

‚∏ª

5. Sports Workspace (current scope)

When SPORTS icon is clicked:
	1.	setActiveWorkspace('SPORTS', 'sports')
	2.	If stack doesn‚Äôt exist ‚Üí create stack
	3.	Spawn 3 cards:

SportsMultiView
SportsOdds
SportsStats

	4.	Each card appears at defined coordinates:

{x:120, y:120, z:5}, size: {360x520}

5.1 SportsMultiView

Must provide:
	‚Ä¢	LIVE/SCHEDULED/FINAL game board
	‚Ä¢	Auto-refresh every 30s
	‚Ä¢	Red pulse indicator for live games
	‚Ä¢	Action buttons (Analyze, Momentum, Predict, Narrative)
	‚Ä¢	Integration with Cinema/Watch mode

5.2 Cinema Mode

Component receives:

gameId, events[], teamInfo, highlights[]

Displays:
	‚Ä¢	Central primary card (80% width desktop / 95% mobile)
	‚Ä¢	Filmstrip of thumbnails below
	‚Ä¢	BILL sidecar insights

‚∏ª

6. Highlight Engine (next required module)

Service must:
	1.	Parse GameEvent[]
	2.	Score each event using:
	‚Ä¢	CMFK vector scoring
	‚Ä¢	Momentum-shift detection
	3.	Select key moments
	4.	Output HighlightMoment[]:

id, timestamp, description, team, cmfkScore, momentumDelta

	5.	Render HighlightCard with:

	‚Ä¢	timeline
	‚Ä¢	event list
	‚Ä¢	momentum metrics
	‚Ä¢	BILL auto-narration ready

This becomes the foundation for the full Sports Bar / Multi-Stream Watch Mode.

‚∏ª

7. Rendering Constraints
	‚Ä¢	No clipping (overflow-visible everywhere)
	‚Ä¢	Canvas must be fixed below SystemBar
	‚Ä¢	Z-index hierarchy:

SystemBar: z-50  
Dock: z-50  
BillOverlay: z-50  
Cards: z>=5  
Canvas: z-10  
Background: z-[ -1 ]


‚∏ª

8. Required Guarantees

The system must:
	1.	Spawn cards deterministically
	2.	Never clip or hide cards accidentally
	3.	Maintain workspace isolation
	4.	Support unlimited cards per workspace
	5.	Allow drag, minimize, restore, focus
	6.	Render cleanly on mobile using same logic
	7.	Run all BILL commands without race conditions

‚∏ª

9. Deliverables Replit Should Generate Next
	1.	highlight-engine.ts (complete service)
	2.	HighlightCard.tsx (UI renderer)
	3.	BILL command: createHighlightCard()
	4.	Integrate highlight button into SportsMultiView
	5.	Ensure Cinema Mode accepts highlights[]

‚∏ª

If you drop this into Replit, the agent will know exactly what to extend and how the OS is architected.

If you want a more compressed version, or a Replit-optimized agent briefing, or a Figma-Make UI spec, say ‚Äúcompress‚Äù, ‚Äúreplit brief,‚Äù or ‚Äúfigma spec.‚Äù